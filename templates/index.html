<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êô∫ËÉΩÂ∑•‰ΩúÂè∞</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='ai-pet.css') }}">
</head>
<body>
    <div class="workbench-container">
        <!-- Á¨¨‰∏ÄÊ†èÔºö‰æßËæπÊ†è -->
        <nav class="sidebar-pane">
            <div class="sidebar-header">
                <h2 class="app-title">Êô∫ËÉΩÂ∑•‰ΩúÂè∞</h2>
            </div>
            <div class="nav-menu">
                <button id="nav-notes" class="nav-btn active" data-view="notes">üìù Á¨îËÆ∞Êú¨</button>
                <button id="nav-todo" class="nav-btn" data-view="todo">‚úÖ ÂæÖÂäû‰∫ãÈ°π</button>
                <button id="nav-projects" class="nav-btn" data-view="projects">üìã È°πÁõÆÁÆ°ÁêÜ</button>
                <button id="nav-ai" class="nav-btn" data-view="ai">ü§ñ AIÂä©Êâã</button>
                <button id="nav-habits" class="nav-btn" data-view="habits">üéØ ‰π†ÊÉØËøΩË∏™</button>
            </div>
        </nav>

        <!-- Á¨¨‰∫åÊ†èÔºöÂàóË°®Á™óÊ†º -->
        <div class="list-pane">
            <!-- Á¨îËÆ∞Êú¨ÂàóË°®ËßÜÂõæ -->
            <div id="notes-list" class="view-content active">
                <div class="pane-header">
                    <h3>Á¨îËÆ∞Êú¨</h3>
                </div>
                <div class="notebook-list" id="notebook-list">
                    <!-- Á¨îËÆ∞Êú¨ÂàóË°®Â∞ÜÁî±JavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
            
            <!-- ÂæÖÂäû‰∫ãÈ°πÂàóË°®ËßÜÂõæ -->
            <div id="todo-list-view" class="view-content">
                <div class="pane-header">
                    <h3>ÂæÖÂäû‰∫ãÈ°π</h3>
                </div>
                <div class="todo-input-section">
                    <input type="text" id="todo-input" placeholder="Ê∑ªÂä†Êñ∞ÁöÑÂæÖÂäû‰∫ãÈ°π..." class="todo-input">
                    <input type="date" id="todo-deadline" class="todo-deadline">
                    <select id="todo-project-select" class="todo-project-select">
                        <option value="">ÈÄâÊã©È°πÁõÆ</option>
                    </select>
                    <button id="add-todo" class="add-btn">Ê∑ªÂä†</button>
                </div>
                <div id="todo-list" class="todo-list"></div>
            </div>
            
            <!-- È°πÁõÆÂàóË°®ËßÜÂõæ -->
            <div id="projects-list" class="view-content">
                <div class="pane-header">
                    <h3>È°πÁõÆ</h3>
                    <button id="add-project" class="add-btn">Êñ∞Âª∫</button>
                </div>
                <div id="projects-list-container" class="project-list">
                    <!-- È°πÁõÆÂàóË°®Â∞ÜÁî±JavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
            
            <!-- AIÂä©ÊâãÂàóË°®ËßÜÂõæ -->
            <div id="ai-list" class="view-content">
                <div class="pane-header">
                    <h3>AIÂØπËØù</h3>
                    <button id="new-topic-btn" class="add-btn">Êñ∞ËØùÈ¢ò</button>
                </div>
                <div class="topic-sidebar">
                    <div id="topic-list" class="topic-list">
                        <!-- ËØùÈ¢òÂàóË°®Â∞ÜÁî±JavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
            
            <!-- ‰π†ÊÉØËøΩË∏™ÂàóË°®ËßÜÂõæ -->
            <div id="habits-list" class="view-content">
                <div class="pane-header">
                    <h3>‰π†ÊÉØ</h3>
                </div>
                <div class="habit-input-section">
                    <input type="text" id="habit-name-input" placeholder="Ê∑ªÂä†Êñ∞‰π†ÊÉØ..." class="habit-input">
                    <button id="create-habit-btn" class="add-btn">ÂàõÂª∫</button>
                </div>
                <div id="habits-grid" class="habits-grid">
                    <!-- ‰π†ÊÉØÁΩëÊ†ºÂ∞ÜÁî±JavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
        </div>

        <!-- Á¨¨‰∏âÊ†èÔºöÂÜÖÂÆπÁ™óÊ†º -->
        <div class="content-pane">
            <!-- Á¨îËÆ∞Êú¨ÂÜÖÂÆπËßÜÂõæ -->
            <div id="notes-view" class="view-content active">
                <div class="content-header">
                    <h2 id="current-notebook-title">ÈªòËÆ§Á¨îËÆ∞Êú¨</h2>
                    <div class="button-group" id="notebook-actions">
                        <button class="action-btn" id="rename-notebook">ÈáçÂëΩÂêç</button>
                        <button class="action-btn" id="delete-notebook">Âà†Èô§</button>
                        <div id="add-notebook-container"></div>
                    </div>
                </div>
                <div class="content-body">
                    <div class="notebook-content">
                        <div class="notebook-sidebar">
                            <div class="topic-list">
                                <!-- ‰∏ªÈ¢òÂàóË°®Â∞ÜÁî±JavaScriptÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                        <div class="notebook-editor">
                            <textarea id="notepad" placeholder="ÂºÄÂßãÂÜô‰Ωú..."></textarea>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ÂæÖÂäû‰∫ãÈ°πÂÜÖÂÆπËßÜÂõæ -->
            <div id="todo-view" class="view-content">
                <div class="content-header">
                    <h2>ÂæÖÂäû‰∫ãÈ°πËØ¶ÊÉÖ</h2>
                </div>
                <div class="content-body">
                    <div id="todo-detail-content">
                        <!-- ÂæÖÂäû‰∫ãÈ°πËØ¶ÊÉÖÂÜÖÂÆπ -->
                    </div>
                </div>
            </div>

            <!-- È°πÁõÆÁÆ°ÁêÜÂÜÖÂÆπËßÜÂõæ -->
            <div id="projects-view" class="view-content">
                <div class="content-header">
                    <h2>È°πÁõÆÁÆ°ÁêÜ</h2>
                    <div class="project-controls">
                        <div class="view-switcher">
                            <button id="list-view-btn" class="view-btn active">ÂàóË°®ËßÜÂõæ</button>
                            <button id="card-view-btn" class="view-btn">Âç°ÁâáËßÜÂõæ</button>
                            <button id="kanban-view-btn" class="view-btn">ÁúãÊùøËßÜÂõæ</button>
                        </div>
                    </div>
                </div>
                <div class="content-body">
                    <!-- ÂàóË°®ËßÜÂõæ -->
                    <div id="projects-list-view" class="project-view active">
                        <div id="projects-list" class="projects-container">
                            <!-- È°πÁõÆÂàóË°®ÂÜÖÂÆπ -->
                        </div>
                    </div>
                    
                    <!-- Âç°ÁâáËßÜÂõæ -->
                    <div id="projects-card-view" class="project-view">
                        <div id="projects-cards" class="projects-cards">
                            <!-- È°πÁõÆÂç°ÁâáÂÜÖÂÆπ -->
                        </div>
                    </div>
                    
                    <!-- ÁúãÊùøËßÜÂõæ -->
                    <div id="projects-kanban-view" class="project-view">
                        <div class="kanban-board">
                            <div class="kanban-column">
                                <h3>ÂæÖÂ§ÑÁêÜ</h3>
                                <div id="pending-projects" class="kanban-items"></div>
                            </div>
                            <div class="kanban-column">
                                <h3>ËøõË°å‰∏≠</h3>
                                <div id="in-progress-projects" class="kanban-items"></div>
                            </div>
                            <div class="kanban-column">
                                <h3>Â∑≤ÂÆåÊàê</h3>
                                <div id="completed-projects" class="kanban-items"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AIÂä©ÊâãÂÜÖÂÆπËßÜÂõæ -->
            <div id="ai-view" class="view-content">
                <div class="content-header">
                    <h2>AIÂä©Êâã</h2>
                    <div class="ai-controls">
                        <select id="ai-model-select" class="model-select">
                            <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                            <option value="gpt-4">GPT-4</option>
                        </select>
                    </div>
                </div>
                <div class="content-body">
                    <div id="chat-container" class="chat-container">
                        <div id="chat-messages" class="chat-messages">
                            <!-- ËÅäÂ§©Ê∂àÊÅØÂ∞ÜÁî±JavaScriptÂä®ÊÄÅÁîüÊàê -->
                        </div>
                        <div class="chat-input-container">
                            <textarea id="chat-input" placeholder="ËæìÂÖ•Ê∂àÊÅØ..." class="chat-input"></textarea>
                            <button id="send-chat" class="send-btn">ÂèëÈÄÅ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ‰π†ÊÉØËøΩË∏™ÂÜÖÂÆπËßÜÂõæ -->
            <div id="habits-view" class="view-content">
                <!-- ‰π†ÊÉØÂàóË°®È°µÈù¢ -->
                <div id="habit-list-page" class="habit-page active">
                    <div class="content-header">
                        <h2>‰π†ÊÉØËøΩË∏™</h2>
                    </div>
                    <div class="content-body">
                        <div id="habit-detail-content">
                            <!-- ‰π†ÊÉØËØ¶ÊÉÖÂÜÖÂÆπ -->
                        </div>
                    </div>
                </div>
                
                <!-- ‰π†ÊÉØËØ¶ÊÉÖÈ°µÈù¢ -->
                <div id="habit-detail-page" class="habit-page">
                    <div class="content-header">
                        <button id="back-to-habits" class="back-btn">‚Üê ËøîÂõû</button>
                        <h2 id="current-habit-name">‰π†ÊÉØËØ¶ÊÉÖ</h2>
                        <div class="habit-actions">
                            <button id="edit-habit-btn" class="action-btn">ÁºñËæë</button>
                            <button id="delete-habit-btn" class="action-btn delete">Âà†Èô§</button>
                        </div>
                    </div>
                    <div class="content-body">
                        <div class="habit-stats">
                            <div class="stat-item">
                                <span class="stat-label">ÊÄªÊó∂Èïø</span>
                                <span id="total-time-display" class="stat-value">0Â∞èÊó∂0ÂàÜÈíü</span>
                            </div>
                        </div>
                        <div class="habit-timer-section">
                            <div id="habit-timer" class="timer-display">00:00:00</div>
                            <div class="timer-controls">
                                <button id="start-habit-timer" class="timer-btn start">ÂºÄÂßã</button>
                                <button id="pause-habit-timer" class="timer-btn pause">ÊöÇÂÅú</button>
                                <button id="reset-habit-timer" class="timer-btn reset">ÈáçÁΩÆ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Á¨îËÆ∞Êú¨Ê®°ÊÄÅÊ°Ü -->
    <div id="notebook-modal" class="modal">
        <div class="modal-content">
            <h3 id="modal-title">Êñ∞Âª∫Á¨îËÆ∞Êú¨</h3>
            <div class="form-group">
                <label for="notebook-name">Á¨îËÆ∞Êú¨ÂêçÁß∞</label>
                <input type="text" id="notebook-name" placeholder="ËæìÂÖ•Á¨îËÆ∞Êú¨ÂêçÁß∞...">
            </div>
            <div id="notebook-project-selection" class="form-group" style="display: none;">
                <label for="notebook-project">ÂÖ≥ËÅîÈ°πÁõÆÔºàÂèØÈÄâÔºâ</label>
                <select id="notebook-project">
                    <option value="">ÈÄâÊã©È°πÁõÆ</option>
                </select>
            </div>
            <div class="modal-actions">
                <button id="modal-cancel" class="btn btn-secondary">ÂèñÊ∂à</button>
                <button id="modal-confirm" class="btn btn-primary">Á°ÆËÆ§</button>
            </div>
        </div>
    </div>

    <!-- È°πÁõÆÊ®°ÊÄÅÊ°Ü -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <h3 id="project-modal-title">Êñ∞Âª∫È°πÁõÆ</h3>
            <div class="form-group">
                <label for="project-title-input">È°πÁõÆÂêçÁß∞</label>
                <input type="text" id="project-title-input" placeholder="ËæìÂÖ•È°πÁõÆÂêçÁß∞...">
            </div>
            <div class="form-group">
                <label for="project-status-select">È°πÁõÆÁä∂ÊÄÅ</label>
                <select id="project-status-select">
                    <option value="pending">ÂæÖÂ§ÑÁêÜ</option>
                    <option value="in-progress">ËøõË°å‰∏≠</option>
                    <option value="completed">Â∑≤ÂÆåÊàê</option>
                </select>
            </div>
            <div class="modal-actions">
                <button id="project-modal-cancel" class="btn btn-secondary">ÂèñÊ∂à</button>
                <button id="project-modal-confirm" class="btn btn-primary">Á°ÆËÆ§</button>
            </div>
        </div>
    </div>

    <!-- È°πÁõÆËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü -->
    <div id="project-detail-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="project-detail-title">È°πÁõÆËØ¶ÊÉÖ</h3>
                <button id="close-project-detail" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="project-info">
                    <p><strong>Áä∂ÊÄÅÔºö</strong><span id="project-detail-status"></span></p>
                    <p><strong>ÂàõÂª∫Êó∂Èó¥Ôºö</strong><span id="project-detail-created"></span></p>
                    <p><strong>Êõ¥Êñ∞Êó∂Èó¥Ôºö</strong><span id="project-detail-updated"></span></p>
                </div>
                <div class="project-links">
                    <div class="link-section">
                        <h4>ÂÖ≥ËÅîÁ¨îËÆ∞</h4>
                        <div id="linked-notes" class="linked-items"></div>
                        <button id="link-note-btn" class="link-btn">ÂÖ≥ËÅîÁ¨îËÆ∞</button>
                    </div>
                    <div class="link-section">
                        <h4>ÂÖ≥ËÅîÂæÖÂäû</h4>
                        <div id="linked-todos" class="linked-items"></div>
                        <button id="link-todo-btn" class="link-btn">ÂÖ≥ËÅîÂæÖÂäû</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‰π†ÊÉØÁºñËæëÊ®°ÊÄÅÊ°Ü -->
    <div id="habit-edit-modal" class="modal">
        <div class="modal-content">
            <h3>ÁºñËæë‰π†ÊÉØ</h3>
            <div class="form-group">
                <label for="habit-edit-input">‰π†ÊÉØÂêçÁß∞</label>
                <input type="text" id="habit-edit-input" placeholder="ËæìÂÖ•‰π†ÊÉØÂêçÁß∞...">
            </div>
            <div class="modal-actions">
                <button id="habit-edit-cancel" class="btn btn-secondary">ÂèñÊ∂à</button>
                <button id="habit-edit-confirm" class="btn btn-primary">Á°ÆËÆ§</button>
            </div>
        </div>
    </div>

    <!-- Á≠æÂà∞ÊèêÁ§∫ -->
    <div id="checkin-toast" class="toast">
        <span class="toast-message">‰π†ÊÉØÊâìÂç°ÊàêÂäüÔºÅ</span>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="{{ url_for('static', filename='ai-pet.js') }}"></script>
    <script src="{{ url_for('static', filename='ai-command.js') }}"></script>
</body>
</html>